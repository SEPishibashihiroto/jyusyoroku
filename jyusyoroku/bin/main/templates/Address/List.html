<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<title>住所一覧画面</title>
<link href="/css/list.css" rel="stylesheet"></link>
<meta charset="utf-8" />
</head>
<body>
	<h1>住所録管理システム：住所録一覧</h1>

	<!-- 登録 -->
	<form th:action="@{/Address/Add}">
		<input type="submit" value="新規登録" class="btn">
	</form>

	<!-- ページング -->
	<div>
		<ul>
			<li style="display: inline;"><span th:if="${page.first}">&lt;&lt;前</span>
				<a th:if="${!page.first}"
				th:href="@{/Address/{page}/List(page = ${page.number} - 1)}">
					&lt;&lt;前 </a></li>
			<li th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}"
				style="display: inline; margin-left: 10px;"><span
				th:if="${i} == ${page.number}" th:text="${i + 1 + ' |'}">1</span> <a
				th:if="${i} != ${page.number}"
				th:href="@{/Address/{page}/List(page = ${i})}"> <span
					th:text="${i+1 + ' |'}">1</span>
			</a></li>
			<li style="display: inline; margin-left: 10px;"><span
				th:if="${page.last}">次&gt;&gt;</span> <a th:if="${!page.last}"
				th:href="@{/Address/{page}/List(page = (${page.number} + 1))}">
					次&gt;&gt; </a></li>
		</ul>
	</div>

	<!-- list表示 -->
	<div class="listtable">
		<table>
			<thead>
				<tr>
					<th>ID</th>
					<th>名前</th>
					<th>住所</th>
					<th>電話番号</th>
					<th colspan="2"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="user : ${users}" th:object="${user}">
					<td class="id" th:text="*{id}"></td>
					<td class="name" th:text="*{name}"></td>
					<td class="address" th:text="*{address}"></td>
					<td class="tel"
						th:text="*{#strings.substring(tel,0,3)}+'-'+ *{#strings.substring(tel,3,7)}+'-'+ *{#strings.substring(tel,7,11)}"></td>
					<td class="edit">
						<form th:action="@{/Address/{id}/Edit(id=${user.id})}">
							<input type="submit" value="編集" class="btn">
						</form>
					</td>
					<td class="delete">
						<form th:action="@{/Address/{id}/Delete(id=${user.id})}">
							<input type="submit" value="削除" class="btn">
						</form>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<!-- ページング -->
	<div>
		<ul>
			<li style="display: inline;"><span th:if="${page.first}">&lt;&lt;前</span>
				<a th:if="${!page.first}"
				th:href="@{/Address/{page}/List(page = ${page.number} - 1)}">
					&lt;&lt;前 </a></li>
			<li th:each="i : ${#numbers.sequence(0, page.totalPages - 1)}"
				style="display: inline; margin-left: 10px;"><span
				th:if="${i} == ${page.number}" th:text="${i + 1}">1</span> <a
				th:if="${i} != ${page.number}"
				th:href="@{/Address/{page}/List(page = ${i})}"> <span
					th:text="${i+1}">1</span>
			</a></li>
			<li style="display: inline; margin-left: 10px;"><span
				th:if="${page.last}">次&gt;&gt;</span> <a th:if="${!page.last}"
				th:href="@{/Address/{page}/List(page = (${page.number} + 1))}">
					次&gt;&gt; </a></li>
		</ul>
	</div>

	<!-- 登録 -->
	<form th:action="@{/Address/Add}">
		<input type="submit" value="新規登録" class="btn">
	</form>
</body>
</html>